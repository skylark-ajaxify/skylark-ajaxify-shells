/**
 * skylark-ui-shells - The skylark shells widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-shells/
 * @license MIT
 */
!function(t,e){var i=e.define,n=e.require,r="function"==typeof i&&i.amd,s=!r&&"undefined"!=typeof exports;if(!r&&!i){var l={};i=e.define=function(t,e,i){"function"==typeof i?(l[t]={factory:i,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var i=e.split("/"),n=t.split("/");i.pop();for(var r=0;r<n.length;r++)"."!=n[r]&&(".."==n[r]?i.pop():i.push(n[r]));return i.join("/")}(e,t)}),resolved:!1,exports:null},n(t)):l[t]={factory:null,resolved:!0,exports:i}},n=e.require=function(t){if(!l.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var i=l[t];if(!i.resolved){var r=[];i.deps.forEach(function(t){r.push(n(t))}),i.exports=i.factory.apply(e,r)||null,i.resolved=!0}return i.exports}}if(!i)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,e){t("skylark-ui-shells/shells",["skylark-langx/skylark"],function(t){return t.attach("ui.shells",{})}),t("skylark-ui-shells/Shell",["skylark-langx/langx","skylark-utils-dom/css","skylark-utils-dom/scripter","skylark-utils-dom/finder","skylark-utils-dom/query","skylark-ui-swt/Widget","skylark-nprogress","skylark-bootbox4","skylark-visibility","skylark-tinycon","./shells"],function(t,e,i,n,r,s,l,o,a,u,c){function f(t,e){t.find("strong").html(e.title),t.find("p").html(e.message),t.attr("class","alert alert-dismissable alert-"+e.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),e.timeout&&k(t,e.timeout),t.children().fadeOut(100),e.translate(t.html(),function(e){t.children().fadeIn(100),t.html(e)}),t.off("click").removeClass("pointer"),"function"==typeof e.clickfn&&t.addClass("pointer").on("click",function(i){r(i.target).is(".close")||e.clickfn(),d(t)})}function d(t){t.fadeOut(500,function(){r(this).remove()})}function k(t,e){var i=setTimeout(function(){d(t)},e);t.attr("timeoutId",i),t.css("transition-property","none"),t.removeClass("animate"),setTimeout(function(){t.css("transition-property",""),t.css("transition","width "+(e+450)+"ms linear, background-color "+(e+450)+"ms ease-in"),t.addClass("animate")},50),t.on("mouseenter",function(){r(this).css("transition-duration",0)})}var p=s.inherit({options:{i18n:{locale:"en",translate:function(e){return t.Deferred.resolve(e)}},alerts:{container:"",titles:{success:"[[global:alert.success]]",error:"[[global:alert.error]]"}},template:null,skins:{}},_construct:function(t){this.overrided(document.body,t),this._titleObj={active:!1,interval:void 0,titles:[]};var e=this;a.change(function(t,i){"visible"===i?(e.isFocused=!0,e.alternatingTitle("")):"hidden"===i&&(e.isFocused=!1)})},progress:function(){return l},alert:function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:(new Date).getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";var e=r("#"+t.alert_id);e.length?f(e,t):function(t,e){(t.template||e)(t).then(function(e){var i=r("#"+t.alert_id);if(i.length)return f(i,t);(i=r(e)).fadeIn(200),t.container.prepend(i),"function"==typeof t.closefn&&i.find("button").on("click",function(){return t.closefn(),d(i),!1}),t.timeout&&k(i,t.timeout),"function"==typeof t.clickfn&&i.addClass("pointer").on("click",function(e){r(e.target).is(".close")||t.clickfn(),d(i)})})}(t,this.option("template"))},removeAlert:function(t){r("#alert_button_"+t).remove()},alertSuccess:function(t,e){this.alert({title:this.option("alerts.titles.success"),message:t,type:"success",timeout:e||5e3})},alertError:function(t,e){t=t.message||t,this.alert({title:this.option("alerts.titles.error"),message:t,type:"danger",timeout:e||1e4})},alternatingTitle:function(t){if("string"==typeof t){var e=this._titleObj;if(t.length>0&&!app.isFocused){e.titles[0]||(e.titles[0]=window.document.title);var i=this.option("i18n.translate");i(t,function(t){e.titles[1]=t,e.interval&&clearInterval(e.interval),e.interval=setInterval(function(){var t=e.titles[1^e.titles.indexOf(window.document.title)];t&&(window.document.title=r("<div/>").html(t).text())},2e3)})}else e.interval&&clearInterval(e.interval),e.titles[0]&&(window.document.title=r("<div/>").html(e.titles[0]).text())}},refreshTitle:function(t){var e=this,i=this.option("i18n.translate"),n=this._titleObj;i(t,function(t){n.titles[0]=t,e.alternatingTitle("")})},tinycon:function(e,i){t.isUndefined(i)&&t.isPlainObject(e)&&(i=e,e=void 0),t.isDefined(i)&&u.setOptions(i),t.isDefined(e)&&u.setBubble(e)},reskin:function(t,e,i){if(i||(i=document.getElementById("skinSheet"))){var n=r("body").attr("class").split(/\s+/).filter(function(t){return t.startsWith("skin-")}),s=n[0].slice(5);if(t!==(s="noskin"!==s?s:"")){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.href=e,l.onload=function(){i.parentNode.removeChild(i),r("body").removeClass(n.join(" ")),r("body").addClass("skin-"+(t||"noskin"))},document.head.appendChild(l)}}},loadStyleSheet:function(t,i,n,r){return e.loadStyleSheet(t,i,n,r)},removeStyleSheet:function(t){return e.removeStyleSheet(t)},loadScript:function(t,e,n){return i.loadJavaScript(t,e,n)},removeScript:function(t){return i.deleteJavaScript(t)}});return c.Shell=p}),t("skylark-ui-shells/main",["./shells","./Shell","skylark-langx","skylark-utils-dom","skylark-bootstrap3","skylark-ui-swt","skylark-visibility"],function(t){return t}),t("skylark-ui-shells",["skylark-ui-shells/main"],function(t){return t})}(i),!r){var o=n("skylark-langx/skylark");s?module.exports=o:e.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-ui-shells.js.map
